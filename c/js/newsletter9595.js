function captchaPopup(){var e=$("#email_subscribe").val(),a=checkemail(e);e.length>0&&0!=a?$("#captcha_form_modal").modal("show"):bootstrapAlert("Please enter a valid e-mail address to subscribe to our newsletters.")}function checkCaptchaCode(e){var a=$("#captcha").val();return $("#errorMsg").html(""),a.length>0?$.ajax({type:"POST",url:"/hra_rent_receipt/capcha",data:{capcha:a},dataType:"json",success:function(a){1!=a.error?($("#captcha_img").attr("src","/capcha/image.php?rand="+1e3*Math.random()),$("#captcha").val(""),$("#errorMsg").html("Invalid capcha code.")):($("#captcha_form_modal").modal("hide"),$("#errorMsg").html(""),subscribe(e))}}):$("#errorMsg").html("Invalid capcha code."),!1}function subscribe(e){var a=$("#email_subscribe").val(),s=checkemail(a);if(a.length>0&&0!=s){showLoader();var r=$(e).serialize();$.ajax({type:"POST",url:"/user/subscribe",data:r,dataType:"json",success:function(e){hideLoader(),0==e.error?bootstrapAlert("Please enter a valid e-mail address to subscribe to our newsletters."):swal("Thank you",e.error_message,"success")}})}else bootstrapAlert("Please enter a valid e-mail address to subscribe to our newsletters.");return!1}function checkemail(e){var a=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return a.test(e)?1:0}function unsubscribeQuestion(){var e=$("#email_subscribe").val(),a=checkemail(e);1==a?($("#unsubscribe_message_email").html(e),$("#unsubscribe_message").modal("show"),$(".btn_close").hide(),$(".btn_unsubscribe").show()):bootstrapAlert("Please enter a valid e-mail address to unsubscribe to our newsletters.")}function unsubscribe(e){var a=$("#email_subscribe").val(),s=checkemail(a);if(a.length>0&&0!=s){showLoader();var r=$(e).serialize();$.ajax({type:"POST",url:"/user/unsubscribe",data:r,dataType:"json",success:function(e){hideLoader(),"1"==e.error?swal("Thank you",e.error_message,"success"):bootstrapAlert(e.error_message)}})}else bootstrapAlert("Please enter a valid e-mail address to unsubscribe to our newsletters.");return!1}